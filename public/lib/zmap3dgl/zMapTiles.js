var ZMAP3DTILES=function(e){this.map3dTool=e,this.viewer=e.GetView(),this.tileslist={}};ZMAP3DTILES.prototype.add3dTiles=function(e,i,t,s){var n=null,o=null;e.position&&(n=e.position,o=GmMap3D.Matrix4.multiplyByTranslation(GmMap3D.Transforms.eastNorthUpToFixedFrame(GmMap3D.Cartesian3.fromDegrees(n[0],n[1],n[2])),new GmMap3D.Cartesian3(0,0,0),new GmMap3D.Matrix4));var r=this.viewer.scene.primitives.add(new GmMap3D.Cesium3DTileset({url:e.url,baseScreenSpaceError:1024,skipLevelOfDetail:!0,skipScreenSpaceErrorFactor:e.fskipScreenSpaceErrorFactor?e.fskipScreenSpaceErrorFactor:16,skipLevels:e.fskipLevels?e.fskipLevels:1,immediatelyLoadDesiredLevelOfDetail:!1,loadSiblings:!1,cullWithChildrenBounds:!0,dynamicScreenSpaceError:!0,dynamicScreenSpaceErrorDensity:.00278,dynamicScreenSpaceErrorFactor:4,dynamicScreenSpaceErrorHeightFalloff:.25,debugColorizeTiles:!1,debugWireframe:!1,debugShowBoundingVolume:!1,modelMatrix:o||GmMap3D.Matrix4.IDENTITY}));r.readyPromise.then((function(){var i=r.boundingSphere;r.style=e.style,this.viewer.camera.viewBoundingSphere(i,new GmMap3D.HeadingPitchRange(0,-.5,i.radius)),this.viewer.camera.lookAtTransform(GmMap3D.Matrix4.IDENTITY)})).otherwise((function(e){throw e})),i&&this.viewer.zoomTo(r),r.allTilesLoaded.addEventListener((function(){"function"==typeof t&&t(r)})),setTimeout(()=>{"function"==typeof s&&s(r)},0);var l=e.modelid?e.modelid:e.url;return this.tileslist[l]=r,r},ZMAP3DTILES.prototype.get3dTilesById=function(e){return this.tileslist[e]},ZMAP3DTILES.prototype.deleteTilesById=function(e){var i;(i=this.tileslist[e])&&this.deletedTiles(i)},ZMAP3DTILES.prototype.deletedTiles=function(e){if(!e||null==e||""==e)return" The tiles doesn't exist  ";if("string"!=typeof e){if(!this.viewer.scene.primitives.contains(e))return" The tiles is useless ";for(var i in this.tileslist)if(this.tileslist[i]==e){delete this.tileslist[i];break}this.viewer.scene.primitives.remove(e)}else this.deleteTilesById(e)},ZMAP3DTILES.prototype.show=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.show=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshow=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.show=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugShowUrl=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowUrl=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugShowUrl=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowUrl=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugShowMemoryUsage=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowMemoryUsage=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugShowMemoryUsage=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowMemoryUsage=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugShowRenderingStatistics=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowRenderingStatistics=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugShowRenderingStatistics=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowRenderingStatistics=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugShowContentBoundingVolume=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowContentBoundingVolume=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugShowContentBoundingVolume=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowContentBoundingVolume=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugShowBoundingVolume=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowBoundingVolume=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugShowBoundingVolume=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugShowBoundingVolume=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugWireframe=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugWireframe=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugWireframe=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugWireframe=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.showDebugColorizeTiles=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugColorizeTiles=!0):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.unshowDebugColorizeTiles=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?void(e.debugColorizeTiles=!1):" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.colorByHeight=function(e,i){e.style=new ZMAP3D.Cesium3DTileStyle({color:{conditions:i}})},ZMAP3DTILES.prototype.colorByLatitudeDefine=function(e,i){e.style=new ZMAP3D.Cesium3DTileStyle({defines:{latitudeRadians:"radians(${latitude})"},color:{conditions:i}})},ZMAP3DTILES.prototype.colorByLongitudeDefined=function(e,i){e.style=new ZMAP3D.Cesium3DTileStyle({defines:{LongitudeRadians:"radians(${Longitude})"},color:{conditions:i}})},ZMAP3DTILES.prototype.colorByDistance=function(e,i,t){e.style=new ZMAP3D.Cesium3DTileStyle({defines:{distance:"distance(vec2(radians(${longitude}), radians(${latitude})), vec2(radians("+t[0]+"),radians("+t[1]+")))"},color:{conditions:i}})},ZMAP3DTILES.prototype.colorByNameRegex=function(e,i){e.style=new ZMAP3D.Cesium3DTileStyle({color:i})},ZMAP3DTILES.prototype.hideByHeight=function(e,i){e.style=new ZMAP3D.Cesium3DTileStyle({show:"${height} "+i})},ZMAP3DTILES.prototype.getTilesStyle=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?dtitles.style?dtitles.style._color._conditions:" no style":" The tiles is useless ":" The tiles doesn't exist  "},ZMAP3DTILES.prototype.removeTilesStyle=function(e){return e&&null!=e&&""!=e?this.viewer.scene.primitives.contains(e)?dtitles.style?void(e.style=null):" no style":" The tiles is useless ":" The tiles doesn't exist  "};