GmMap3D.MousePositionCtl=function(t){var e=t.map;this.map3d=e,this.cesium=e.GetMap(),this.style=t.style?t.style:{top:0,left:0},this.Init()},GmMap3D.MousePositionCtl.prototype={Init:function(){this._createBar(),this._registerEvent()},_createBar:function(){var t=this.style,e=t.top,i=t.left;parseInt($("canvas").css("height"));var a='<div id="bottom" class="gmap-mouse-position" style="height:18px; bottom:0; left:'+i+'px;" border="0" cellspacing="0" cellpadding="0"></div>';$("#"+this.map3d.divID).append(a)},_registerEvent:function(){var t=this.cesium;new GmMap3D.ScreenSpaceEventHandler(t.scene._canvas).setInputAction((function(e){var i=t.scene.camera.getPickRay(e.endPosition),a=t.scene.globe.pick(i,t.viewer.scene);if(a){var s=t.ellipsoid.cartesianToCartographic(a),n="经度: "+(s.longitude/Math.PI*180).toFixed(6)+" ";n+="纬度: "+(s.latitude/Math.PI*180).toFixed(6)+" ",n+="高度: "+s.height.toFixed(2)+" （米）",$("#bottom").html(n)}else $("#bottom").html("")}),GmMap3D.ScreenSpaceEventType.MOUSE_MOVE)}};